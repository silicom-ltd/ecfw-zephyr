# SPDX-License-Identifier: Apache-2.0

# Zephyr based EC FW project configuration

# Logs enabled by default in development, this is overridden in build system
# to ensure releases are correctly generated

CONFIG_LOG=y
CONFIG_LOG_PROCESS_THREAD_SLEEP_MS=1200

# EC FW features configuration
# ----------------------------
CONFIG_SMCHOST_EVENT_DRIVEN_TASK=y
CONFIG_ESPI_PERIPHERAL_HOST_IO_PVT=n
CONFIG_THERMAL_MANAGEMENT=y
CONFIG_THERMAL_MGMT_LOG_LEVEL=2
CONFIG_THERMAL_FAN_OVERRIDE=y
CONFIG_THERMAL_FAN_OVERRIDE_VALUE=80
CONFIG_POSTCODE_LOG_LEVEL=1
CONFIG_ESPIHUB_LOG_LEVEL=2
CONFIG_EC_LOG_LEVEL=2
CONFIG_GPIO_EC_LOG_LEVEL=2
CONFIG_BOARD_LOG_LEVEL=2
CONFIG_LED_LOG_LEVEL=2
CONFIG_PERIPHERAL_LOG_LEVEL=2
CONFIG_PWRMGT_LOG_LEVEL=2
CONFIG_PWM=y
CONFIG_PWM_LOG_LEVEL_DBG=n
CONFIG_RESET_BUTTON=y
CONFIG_RESET_BUTTON_LOG_LEVEL=2
CONFIG_PECI_ACCESS_DISABLE_IN_CS=y
CONFIG_PECI_OVER_ESPI_ENABLE=y
CONFIG_PECIHUB_LOG_LEVEL=2
CONFIG_LED_MANAGEMENT=y
CONFIG_LED_MGMT_LOG_LEVEL=2
CONFIG_LED_MANAGEMENT_POST=n
CONFIG_THERMAL_SENSOR_LOG_LEVEL=4
CONFIG_SENSOR_LOG_LEVEL_DBG=n
CONFIG_EEPROM_AT24=y
CONFIG_EEPROM_LOG_LEVEL=2
CONFIG_SMCHOST_LOG_LEVEL=2
CONFIG_FAN_LOG_LEVEL=4
CONFIG_BOARD_POST=n
CONFIG_GPIO_LOG_LEVEL_DBG=n
CONFIG_BOARD_POST=n
CONFIG_EC_FAN_CONTROL=y
CONFIG_THERMAL_FAN_OVERRIDE_VALUE_V2=1500
CONFIG_PINCTRL_LOG_LEVEL_DBG=n
CONFIG_RESET_BUTTON_LOG_LEVEL=2
CONFIG_VOLTAGE_MONITOR=y
CONFIG_VOLTAGE_MONITOR_LOG_LEVEL=4
CONFIG_CURRENT_MONITOR=y
CONFIG_CURRENT_MONITOR_LOG_LEVEL=4
CONFIG_ESPI_PERIPHERAL_XEC_EMI1=y
CONFIG_ESPI_PERIPHERAL_EMI1_PORT_NUM=0x0200
CONFIG_ESPI_PERIPHERAL_EMI1_SHD_MEM_SIZE=1024

# Enable support for OOB Manager
CONFIG_OOBMNGR_SUPPORT=y

# Zephyr kernel/driver configuration required by EC FW
# ----------------------------------------------------
CONFIG_SOC_MEC1501_VCI_PINS_AS_GPIOS=y
CONFIG_WATCHDOG=y

# EC FW flows require to intercept host warnings
CONFIG_ESPI_AUTOMATIC_WARNING_ACKNOWLEDGE=y

# EC FW requires eSPI driver OOB Rx callback
CONFIG_ESPI_OOB_CHANNEL_RX_ASYNC=y

# Kernel debug features
# ---------------------
CONFIG_THREAD_NAME=y
CONFIG_STACK_SENTINEL=y

CONFIG_VRTT_TESTING=n
CONFIG_PERIPHERAL_DEBOUNCE_TIME=5
